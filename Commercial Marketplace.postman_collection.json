{
	"info": {
		"_postman_id": "9ccced3a-d92c-4d7b-9fe2-e09819072b1a",
		"name": "Commercial Marketplace",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Fulfillment",
			"item": [
				{
					"name": "Get all subscriptions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{bearerToken}}",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions?api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions"
							],
							"query": [
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Resolve subscription",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "x-ms-marketplace-token",
								"value": "9EVFKOQwhUCgLB0OKLRdav6AoOXHDKqTUyYgGlJpDy92RdX8XGA+Ebv8XjBcKfcduQW0ggoG2xKszgQozWkU1yUouS+4xsy7xaCSiJRgg6XMkXI9RJV+pdD1/NbSGQIS7gqrxNziYDApXmSRvcd7EuTfdZK3vnsgcWf19g1qpVp+ooAVyCPb8sPvmSuOifJxdvHZu+99YvQURPKnnBchnJK2VQqxbNJZ1e3ZyhYxT28=",
								"type": "text"
							},
							{
								"key": "x-ms-requestid",
								"value": "{{$guid}}",
								"type": "text"
							},
							{
								"key": "x-ms-correlationid",
								"value": "{{$guid}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions/resolve?api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions",
								"resolve"
							],
							"query": [
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Activate subscription",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{bearerToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"planId\": \"gold\"\n}"
						},
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions/90419b90-50bb-0024-1da2-74f2f66042e3/activate?api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions",
								"90419b90-50bb-0024-1da2-74f2f66042e3",
								"activate"
							],
							"query": [
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get a subscription",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var data = JSON.parse(responseBody);\r",
									"\r",
									"pm.collectionVariables.set(\"resourceUsageId\", data.id);\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions/da8dc4ae-4cdf-ed6b-e12e-9d0219306842?api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions",
								"da8dc4ae-4cdf-ed6b-e12e-9d0219306842"
							],
							"query": [
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete subscription",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{bearerToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions/1be86829-c7ec-1738-ab03-a6cacebe3832?api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions",
								"1be86829-c7ec-1738-ab03-a6cacebe3832"
							],
							"query": [
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "List available plans",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{bearerToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions/ab8923e0-9ac5-b203-7fac-e23fb89de995/listAvailablePlans?api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions",
								"ab8923e0-9ac5-b203-7fac-e23fb89de995",
								"listAvailablePlans"
							],
							"query": [
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update subscription plan",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{bearerToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"quantity\": \"5\"\n}"
						},
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions/cfb4b662-ef59-ee55-d062-e1513484ab4d?api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions",
								"cfb4b662-ef59-ee55-d062-e1513484ab4d"
							],
							"query": [
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Metering",
			"item": [
				{
					"name": "Post usage event with resourceId",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var now = new Date();\r",
									"now.setHours(now.getHours() - 2);\r",
									"\r",
									"pm.collectionVariables.set(\"utcNowMinus2Hrs\", now.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
								"key": "x-ms-requestid",
								"value": "<uuid>"
							},
							{
								"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
								"key": "x-ms-correlationid",
								"value": "<uuid>"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceId\": \"ab8923e0-9ac5-b203-7fac-e23fb89de995\",\n  \"quantity\": 15.5,\n  \"dimension\": \"dim3\",\n  \"effectiveStartTime\": \"{{utcNowMinus2Hrs}}\",\n  \"planId\": \"gold\"\n}"
						},
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/usageEvent?api-version=2018-08-31",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"usageEvent"
							],
							"query": [
								{
									"key": "api-version",
									"value": "2018-08-31",
									"description": "(Required) Version of the API."
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Posts a set of usage events to the marketplace metering service API.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var now = new Date();\r",
									"now.setHours(now.getHours() - 2);\r",
									"\r",
									"pm.collectionVariables.set(\"utcNowMinus2Hrs\", now.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
								"key": "x-ms-requestid",
								"value": "<uuid>"
							},
							{
								"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
								"key": "x-ms-correlationid",
								"value": "<uuid>"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"request\":\n[\n\n{\n  \"resourceId\": \"ab8923e0-9ac5-b203-7fac-e23fb89de995\",\n  \"quantity\": 15.5,\n  \"dimension\": \"dim3\",\n  \"effectiveStartTime\": \"{{utcNowMinus2Hrs}}\",\n  \"planId\": \"gold\"\n},\n{\n  \"effectiveStartTime\": \"{{utcNowMinus2Hrs}}\",\n    \"quantity\":  15,\n    \"resourceUri\":  \"/subscriptions/bf7adf12-c3a8-426c-9976-29f145eba70f/resourceGroups/ercmngd/providers/Microsoft.Solutions/applications/ercmdngd2231\",\n    \"dimension\":  \"dim1\",\n    \"planId\":  \"userassigned\"\n}\n]\n}"
						},
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/batchUsageEvent?api-version=2018-08-31",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"batchUsageEvent"
							],
							"query": [
								{
									"key": "api-version",
									"value": "2018-08-31",
									"description": "(Required) Version of the API."
								}
							]
						}
					},
					"response": [
						{
							"name": "Bad request, missing or invalid data provided or expired.",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "[\n    {\n        \"resourceId\": \"<uuid>\",\n        \"quantity\": \"<long>\",\n        \"dimension\": \"<string>\",\n        \"effectiveStartTime\": \"<dateTime>\",\n        \"planId\": \"<string>\"\n    }\n]"
								},
								"url": {
									"raw": "{{baseUrl}}/batchUsageEvent?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"batchUsageEvent"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "text",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain"
								}
							],
							"cookie": [],
							"body": ""
						},
						{
							"name": "User is unauthorized to make this call.",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "[\n    {\n        \"resourceId\": \"<uuid>\",\n        \"quantity\": \"<long>\",\n        \"dimension\": \"<string>\",\n        \"effectiveStartTime\": \"<dateTime>\",\n        \"planId\": \"<string>\"\n    }\n]"
								},
								"url": {
									"raw": "{{baseUrl}}/batchUsageEvent?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"batchUsageEvent"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									]
								}
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "text",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain"
								}
							],
							"cookie": [],
							"body": ""
						},
						{
							"name": "OK.",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "[\n    {\n        \"resourceId\": \"<uuid>\",\n        \"quantity\": \"<long>\",\n        \"dimension\": \"<string>\",\n        \"effectiveStartTime\": \"<dateTime>\",\n        \"planId\": \"<string>\"\n    }\n]"
								},
								"url": {
									"raw": "{{baseUrl}}/batchUsageEvent?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"batchUsageEvent"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n {\n  \"usageEventId\": \"urn:uuid:3380ab25-d977-d99a-c545-bf1790aab81e\",\n  \"status\": \"Error\",\n  \"messageTime\": \"1985-11-28T11:21:12.458Z\",\n  \"resourceId\": \"95087b56-597d-5b23-d3cd-8a8bfcb04d80\",\n  \"quantity\": 10507292,\n  \"dimension\": \"esse pariatur ex\",\n  \"effectiveStartTime\": \"1994-09-25T23:56:07.261Z\",\n  \"planId\": \"ad aute incididunt ut fugiat\"\n },\n {\n  \"usageEventId\": \"urn:uuid:12f933c8-3c29-61be-d5ed-e3517e6c5950\",\n  \"status\": \"Error\",\n  \"messageTime\": \"2000-05-13T11:17:31.369Z\",\n  \"resourceId\": \"bf80c6bb-c968-3900-59f8-6ec3786c90e3\",\n  \"quantity\": 98012381,\n  \"dimension\": \"dolor dolore culpa\",\n  \"effectiveStartTime\": \"1992-04-16T01:45:57.440Z\",\n  \"planId\": \"nostrud Lorem do dolore in\"\n }\n]"
						}
					]
				},
				{
					"name": "Post usage event with resourceUri",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var now = new Date();\r",
									"now.setHours(now.getHours() - 2);\r",
									"\r",
									"pm.collectionVariables.set(\"utcNowMinus2Hrs\", now.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "authorization",
								"type": "text",
								"value": "{{bearerToken}}"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "x-ms-requestid",
								"type": "text",
								"value": "{{$guid}}"
							},
							{
								"key": "x-ms-correlationid",
								"type": "text",
								"value": "{{$guid}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"effectiveStartTime\": \"{{utcNowMinus2Hrs}}\",\r\n    \"quantity\":  15,\r\n    \"resourceUri\":  \"/subscriptions/bf7adf12-c3a8-426c-9976-29f145eba70f/resourceGroups/ercmngd/providers/Microsoft.Solutions/applications/ercmdngd2231\",\r\n    \"dimension\":  \"dim1\",\r\n    \"planId\":  \"userassigned\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/usageEvent?api-version=2018-08-31",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"usageEvent"
							],
							"query": [
								{
									"key": "api-version",
									"value": "2018-08-31"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Operations",
			"item": [
				{
					"name": "Get all operations",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{bearerToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/operations?=&api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"operations"
							],
							"query": [
								{
									"key": "",
									"value": ""
								},
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all operations for a specific subscription",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{bearerToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions/24f1837a-d4f9-dbee-6c53-09f27033edd2/operations/973fb44a-3e51-4719-b050-411abef126db?api-version={{apiVersion}}",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions",
								"24f1837a-d4f9-dbee-6c53-09f27033edd2",
								"operations",
								"973fb44a-3e51-4719-b050-411abef126db"
							],
							"query": [
								{
									"key": "api-version",
									"value": "{{apiVersion}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update the status of an operation",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
								"key": "x-ms-requestid",
								"value": "<uuid>"
							},
							{
								"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
								"key": "x-ms-correlationid",
								"value": "<uuid>"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"planId\": \"<string>\",\n    \"quantity\": \"<long>\",\n    \"status\": \"<string>\"\n}"
						},
						"url": {
							"raw": "https://marketplaceapi.microsoft.com/api/saas/subscriptions/:subscriptionId/operations/:operationId?api-version=2018-08-31",
							"protocol": "https",
							"host": [
								"marketplaceapi",
								"microsoft",
								"com"
							],
							"path": [
								"api",
								"saas",
								"subscriptions",
								":subscriptionId",
								"operations",
								":operationId"
							],
							"query": [
								{
									"key": "api-version",
									"value": "2018-08-31",
									"description": "(Required) Version of the API."
								}
							],
							"variable": [
								{
									"key": "subscriptionId",
									"value": "<uuid>",
									"type": "string",
									"description": "(Required) "
								},
								{
									"key": "operationId",
									"value": "<uuid>",
									"type": "string",
									"description": "(Required) "
								}
							]
						}
					},
					"response": [
						{
							"name": "Internal server error.",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"planId\": \"<string>\",\n    \"quantity\": \"<long>\",\n    \"status\": \"<string>\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/saas/subscriptions/:subscriptionId/operations/:operationId?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"saas",
										"subscriptions",
										":subscriptionId",
										"operations",
										":operationId"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									],
									"variable": [
										{
											"key": "subscriptionId"
										},
										{
											"key": "operationId"
										}
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "text",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain"
								}
							],
							"cookie": [],
							"body": ""
						},
						{
							"name": "Not found.",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"planId\": \"<string>\",\n    \"quantity\": \"<long>\",\n    \"status\": \"<string>\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/saas/subscriptions/:subscriptionId/operations/:operationId?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"saas",
										"subscriptions",
										":subscriptionId",
										"operations",
										":operationId"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									],
									"variable": [
										{
											"key": "subscriptionId"
										},
										{
											"key": "operationId"
										}
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "text",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain"
								}
							],
							"cookie": [],
							"body": ""
						},
						{
							"name": "Conflict. For example, a newer transaction is already fulfilled.",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"planId\": \"<string>\",\n    \"quantity\": \"<long>\",\n    \"status\": \"<string>\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/saas/subscriptions/:subscriptionId/operations/:operationId?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"saas",
										"subscriptions",
										":subscriptionId",
										"operations",
										":operationId"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									],
									"variable": [
										{
											"key": "subscriptionId"
										},
										{
											"key": "operationId"
										}
									]
								}
							},
							"status": "Conflict",
							"code": 409,
							"_postman_previewlanguage": "text",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain"
								}
							],
							"cookie": [],
							"body": ""
						},
						{
							"name": "Unauthorized. The authentication token was not provided or is invalid, or the request is attempting to access an acquisition that does not belong to the current publisher.",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"planId\": \"<string>\",\n    \"quantity\": \"<long>\",\n    \"status\": \"<string>\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/saas/subscriptions/:subscriptionId/operations/:operationId?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"saas",
										"subscriptions",
										":subscriptionId",
										"operations",
										":operationId"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									],
									"variable": [
										{
											"key": "subscriptionId"
										},
										{
											"key": "operationId"
										}
									]
								}
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "text",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain"
								}
							],
							"cookie": [],
							"body": ""
						},
						{
							"name": "A call to inform of completion of an operation on the partner side. For example, this response could signal the change of seats or plans.",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"planId\": \"<string>\",\n    \"quantity\": \"<long>\",\n    \"status\": \"<string>\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/saas/subscriptions/:subscriptionId/operations/:operationId?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"saas",
										"subscriptions",
										":subscriptionId",
										"operations",
										":operationId"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									],
									"variable": [
										{
											"key": "subscriptionId"
										},
										{
											"key": "operationId"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "text",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain"
								}
							],
							"cookie": [],
							"body": ""
						},
						{
							"name": "Bad request; validation failures.",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"description": {
											"content": "Added as a part of security scheme: oauth2",
											"type": "text/plain"
										},
										"key": "Authorization",
										"value": "<token>"
									},
									{
										"description": "A unique string value for tracking the request from the client, preferably a GUID. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-requestid",
										"value": "<uuid>"
									},
									{
										"description": "A unique string value for operation on the client. This parameter correlates all events from client operation with events on the server side. If this value isn't provided, one will be generated and provided in the response headers.",
										"key": "x-ms-correlationid",
										"value": "<uuid>"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"planId\": \"<string>\",\n    \"quantity\": \"<long>\",\n    \"status\": \"<string>\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/saas/subscriptions/:subscriptionId/operations/:operationId?api-version=2018-08-31",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"saas",
										"subscriptions",
										":subscriptionId",
										"operations",
										":operationId"
									],
									"query": [
										{
											"key": "api-version",
											"value": "2018-08-31"
										}
									],
									"variable": [
										{
											"key": "subscriptionId"
										},
										{
											"key": "operationId"
										}
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "text",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain"
								}
							],
							"cookie": [],
							"body": ""
						}
					]
				}
			]
		},
		{
			"name": "WebHook",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IlNzWnNCTmhaY0YzUTlTNHRycFFCVEJ5TlJSSSIsImtpZCI6IlNzWnNCTmhaY0YzUTlTNHRycFFCVEJ5TlJSSSJ9.eyJhdWQiOiI1ZjA2ZjBhNS1hODA0LTRmODAtYTZkYS00YzA3ZjQzN2YxYWUiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC82ZWJiODY5YS1mMmZjLTQ1NWYtYjNjMy1jODIxNzNkNTU2ZWEvIiwiaWF0IjoxNTkxNjM3NjM3LCJuYmYiOjE1OTE2Mzc2MzcsImV4cCI6MTU5MTcyNDMzNywiYWlvIjoiNDJkZ1lQaVE0ZmhSVzJtM0RHdWZ6YlMyMHp2MkFRQT0iLCJhcHBpZCI6IjIwZTk0MGIzLTRjNzctNGIwYi05YTUzLTllMTZhMWIwMTBhNyIsImFwcGlkYWNyIjoiMiIsImlkcCI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzZlYmI4NjlhLWYyZmMtNDU1Zi1iM2MzLWM4MjE3M2Q1NTZlYS8iLCJvaWQiOiIwY2E0OGMwNS1hMmU3LTQ1N2UtODRiMi1mNTMxMzdjNmQ2YmEiLCJyaCI6IjAuQVRZQW1vYTdidnp5WDBXenc4Z2hjOVZXNnJOQTZTQjNUQXRMbWxPZUZxR3dFS2MyQUFBLiIsInN1YiI6IjBjYTQ4YzA1LWEyZTctNDU3ZS04NGIyLWY1MzEzN2M2ZDZiYSIsInRpZCI6IjZlYmI4NjlhLWYyZmMtNDU1Zi1iM2MzLWM4MjE3M2Q1NTZlYSIsInV0aSI6IjY3REY4Y2VnaFV5bzNWQjRuakZoQUEiLCJ2ZXIiOiIxLjAifQ.hquDKndOyuyUAVnS5DtxHfsqObGIXOnk6gZOJQSSwlO5GvNm2WoYi8eNJV6Q1ltJamQWPbKhiIA3gntYGT4SRhFzdCAEW28GpFaRMACA8lzZI1vuVNixZVxnBFM2wIjpmk6otsuxblaACNrs7DqvPqHNDsUhOIzZrN7s_FrcrYa8RRIIORTAxQe-Af10X7v9AN_oC0wpIcS7c3t4vH5xm-wyfURCwrgiPBdv72BG2uOSVVHVv1xwZ62WVgGDaq5jCF09jlJ53XJDJLqJsoDBm24FRjNTYfXHMe8fVGTo9dh7JrT1vvUn7b-QrEKjShWTYqb2GV2PmPxyA05he003xQ",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"id\":\"482986a3-5885-49a7-bc24-0fe4fbe1adfb\",\n\t\"activityId\":\"0ad21a52-1604-4db3-a2cc-29c58fda0884\",\n\t\"publisherId\":\"testtestindustryexperiencestest\",\n\t\"offerId\":\"contoso_saas_offer-preview\",\n\t\"planId\":\"base\",\n\t\"quantity\":1,\n\t\"subscriptionId\":\"e00d065c-5991-de7b-bfc6-f86f7992e3ae\",\n\t\"timeStamp\":\"2020-06-08T20:12:07.9658094Z\",\n\t\"action\":\"Unsubscribe\",\n\t\"status\":\"Succeeded\",\n\t\"operationRequestSource\":\"Azure\",\n\t\"subscription\":null\n}"
				},
				"url": {
					"raw": "https://localhost:5001/webhook",
					"protocol": "https",
					"host": [
						"localhost"
					],
					"port": "5001",
					"path": [
						"webhook"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get AccessToken",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var data = JSON.parse(responseBody);",
							"",
							"pm.collectionVariables.set(\"accessToken\", data.access_token);",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/x-www-form-urlencoded"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "grant_type",
							"value": "client_credentials",
							"type": "text"
						},
						{
							"key": "Client_id",
							"value": "{{clientId}}",
							"type": "text"
						},
						{
							"key": "client_secret",
							"value": "{{clientSecret}}",
							"type": "text"
						},
						{
							"key": "Scope",
							"value": "20e940b3-4c77-4b0b-9a53-9e16a1b010a7/.default",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "https://login.microsoftonline.com/{{tenantId}}/oauth2/v2.0/token",
					"protocol": "https",
					"host": [
						"login",
						"microsoftonline",
						"com"
					],
					"path": [
						"{{tenantId}}",
						"oauth2",
						"v2.0",
						"token"
					]
				}
			},
			"response": []
		},
		{
			"name": "Webhook test request",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n     \"subscriptionId\": {{subscriptionId}},\r\n     \"operationType\": \"ChangePlan\" \r\n}\r\n"
				},
				"url": {
					"raw": "https://marketplaceapi.microsoft.com/api/publishertest/generateTestWebhook?api-version=2018-08-31",
					"protocol": "https",
					"host": [
						"marketplaceapi",
						"microsoft",
						"com"
					],
					"path": [
						"api",
						"publishertest",
						"generateTestWebhook"
					],
					"query": [
						{
							"key": "api-version",
							"value": "2018-08-31"
						}
					]
				}
			},
			"response": []
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "clientId",
			"value": "......"
		},
		{
			"key": "clientSecret",
			"value": "......"
		},
		{
			"key": "tenantId",
			"value": "......"
		},
		{
			"key": "apiVersion",
			"value": "2018-08-31"
		},
		{
			"key": "utcNowMinus2Hrs",
			"value": "2021-03-09T14:46:48.437Z"
		},
		{
			"key": "resourceUsageId",
			"value": "295be254-adf5-a1be-e505-271410253c9e"
		},
		{
			"key": "accessToken",
			"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyIsImtpZCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyJ9.eyJhdWQiOiIyMGU5NDBiMy00Yzc3LTRiMGItOWE1My05ZTE2YTFiMDEwYTciLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC82ZWJiODY5YS1mMmZjLTQ1NWYtYjNjMy1jODIxNzNkNTU2ZWEvIiwiaWF0IjoxNjE1MzA2Nzc2LCJuYmYiOjE2MTUzMDY3NzYsImV4cCI6MTYxNTMxMDY3NiwiYWlvIjoiRTJaZ1lQRFgveWNXOHFoK1FVamEvN3Y5R244bUFnQT0iLCJhcHBpZCI6IjVmMDZmMGE1LWE4MDQtNGY4MC1hNmRhLTRjMDdmNDM3ZjFhZSIsImFwcGlkYWNyIjoiMSIsImlkcCI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzZlYmI4NjlhLWYyZmMtNDU1Zi1iM2MzLWM4MjE3M2Q1NTZlYS8iLCJvaWQiOiI3ODUzZmI2Yi00NWRlLTQ4YTUtYmExOS1mYWM1ZTc2ZDBiN2QiLCJyaCI6IjAuQVRZQW1vYTdidnp5WDBXenc4Z2hjOVZXNnFYd0JsOEVxSUJQcHRwTUJfUTM4YTQyQUFBLiIsInN1YiI6Ijc4NTNmYjZiLTQ1ZGUtNDhhNS1iYTE5LWZhYzVlNzZkMGI3ZCIsInRpZCI6IjZlYmI4NjlhLWYyZmMtNDU1Zi1iM2MzLWM4MjE3M2Q1NTZlYSIsInV0aSI6ImJ6dlNPSl92eGsySUxMdzBlOXc4QUEiLCJ2ZXIiOiIxLjAifQ.aTzk3-x4YVkmvEyBNSzgxqjMugoojasp3xCqMBbw6Fl0xGKf55Zz3aU0Rdrj8ByplJNh_ujaKdnb2XPhkTQ2NfswvLwP-N2c1dUwDbfQqElZtgmLYLBf2my_nmOaXG-XVBgZ1MAxeq6NIJuYcMBzX-bNB0ixrxiIlsg7xGFKjlwSZnaWNe50T5bsXbu6r_kYHhdVxMs2QkdioS2sDY719PrTbjZqMN9YSBhUNtEArpPj4BTIj15ejGrdRj4BZA2Oyy9EA1uMTfzxpi-03avPawAcoDyLKqR7rapYtXDk9YIEvGdk5Oz37cvQxMmu5I3Z4YaA9U1BKCWQsNEqeB4dVA"
		}
	]
}